# üìä –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö MathBot: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫

## üìä **–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –≤ users.db**

### **üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü**

–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö `users.db` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã **2 –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã**:

#### **1. –¢–∞–±–ª–∏—Ü–∞ `users` - –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

| –ü–æ–ª–µ | –¢–∏–ø | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–ª—è –∫–æ–≥–æ |
|------|-----|------------|----------|
| `telegram_id` | String (PK) | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram | –í—Å–µ |
| `username` | String | @username –≤ Telegram (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL) | –í—Å–µ |
| `password` | String | –•–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å | –í—Å–µ |
| `name` | String | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –í—Å–µ |
| `surname` | String | –§–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –í—Å–µ |
| `role` | String | –†–æ–ª—å: "—É—á–µ–Ω–∏–∫" –∏–ª–∏ "—É—á–∏—Ç–µ–ª—å" | –í—Å–µ |
| `city` | String | –ì–æ—Ä–æ–¥ (—É —É—á–∏—Ç–µ–ª–µ–π: "–ì–æ—Ä–æ–¥ - –ü—Ä–µ–¥–º–µ—Ç") | –í—Å–µ |
| `school` | Integer | –ù–æ–º–µ—Ä —à–∫–æ–ª—ã | –í—Å–µ |
| `grade` | String | –ö–ª–∞—Å—Å (—Ç–æ–ª—å–∫–æ –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤) | –£—á–µ–Ω–∏–∫–∏ |
| `my_students` | String | ID —É—á–µ–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é | –£—á–∏—Ç–µ–ª—è |
| `my_teachers` | String | ID —É—á–∏—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é | –£—á–µ–Ω–∏–∫–∏ |
| `application` | String | –î–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ | –£—á–µ–Ω–∏–∫–∏ |

#### **2. –¢–∞–±–ª–∏—Ü–∞ `singly_assigment` - –ó–∞–¥–∞–Ω–∏—è –∏ —Ä–µ—à–µ–Ω–∏—è**

| –ü–æ–ª–µ | –¢–∏–ø | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----|------------|
| `id` | Integer (PK) | –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç ID |
| `sender_id` | String | ID –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∑–∞–¥–∞–Ω–∏—è |
| `recipient_id` | String | ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è –∑–∞–¥–∞–Ω–∏—è |
| `task_filename` | String | –ò–º—è —Ñ–∞–π–ª–∞ –∑–∞–¥–∞–Ω–∏—è |
| `task_file` | BLOB | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∑–∞–¥–∞–Ω–∏—è |
| `solution_filename` | String | –ò–º—è —Ñ–∞–π–ª–∞ —Ä–µ—à–µ–Ω–∏—è |
| `solution_file` | BLOB | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ —Ä–µ—à–µ–Ω–∏—è |

---

## üîÑ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**

### **–ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –ë–î:**

1. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ flow**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—à–∞–≥–æ–≤–æ –≤–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ (–∏–º—è, —Ñ–∞–º–∏–ª–∏—è, –ø–∞—Ä–æ–ª—å, –≥–æ—Ä–æ–¥, —à–∫–æ–ª–∞, –∫–ª–∞—Å—Å/–ø—Ä–µ–¥–º–µ—Ç)

2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏**: –í —Ç–∞–±–ª–∏—Ü–µ `users` —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Å:
   ```
   telegram_id = ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
   name = –í–≤–µ–¥–µ–Ω–Ω–æ–µ –∏–º—è
   surname = –í–≤–µ–¥–µ–Ω–Ω–∞—è —Ñ–∞–º–∏–ª–∏—è
   password = SHA256 —Ö–µ—à –æ—Ç –ø–∞—Ä–æ–ª—è
   role = "—É—á–µ–Ω–∏–∫" –∏–ª–∏ "—É—á–∏—Ç–µ–ª—å"
   city = –ì–æ—Ä–æ–¥ (–¥–ª—è —É—á–∏—Ç–µ–ª–µ–π: "–ú–æ—Å–∫–≤–∞ - –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞")
   school = –ù–æ–º–µ—Ä —à–∫–æ–ª—ã
   grade = –ö–ª–∞—Å—Å (—Ç–æ–ª—å–∫–æ –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤)
   my_students = NULL (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∑–∂–µ)
   my_teachers = NULL (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∑–∂–µ)
   application = NULL (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏)
   ```

3. **–†–æ–ª–µ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ö–ª–∞—Å—Å `Client` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏

---

## üìß **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫**

### **üéØ –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ - –£–ú–ù–´–ô –ø–æ–¥—Ö–æ–¥:**

–í–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∑–∞—è–≤–æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–æ–ª–µ `application`** –≤ —Ç–∞–±–ª–∏—Ü–µ `users`. –≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

#### **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞—è–≤–∫–∏ –≤ –ø–æ–ª–µ `application`:**
```
"TO:123456789|MSG:–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ö–æ—á—É –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π|STATUS:pending"
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- `TO:` - ID —É—á–∏—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞—è–≤–∫–∞
- `MSG:` - –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —É—á–µ–Ω–∏–∫–∞
- `STATUS:` - –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ (pending/accepted/rejected)

### **üîç –ü–æ–∏—Å–∫ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫:**

#### **1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ —É—á–µ–Ω–∏–∫–æ–º:**
```sql
-- –£—á–µ–Ω–∏–∫ –∏—â–µ—Ç —É—á–∏—Ç–µ–ª–µ–π –≤ —Å–≤–æ–µ–π —à–∫–æ–ª–µ
SELECT * FROM users 
WHERE role = '—É—á–∏—Ç–µ–ª—å' 
AND city LIKE '–ú–æ—Å–∫–≤–∞%'  -- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –≥–æ—Ä–æ–¥–∞
AND school = 15

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ —É —É—á–µ–Ω–∏–∫–∞
UPDATE users 
SET application = 'TO:teacher_id|MSG:message|STATUS:pending'
WHERE telegram_id = 'student_id'
```

#### **2. –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ —É—á–∏—Ç–µ–ª–µ–º:**
```sql
-- –£—á–∏—Ç–µ–ª—å –∏—â–µ—Ç –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤, –æ—Ç–ø—Ä–∞–≤–∏–≤—à–∏—Ö –µ–º—É –∑–∞—è–≤–∫–∏
SELECT * FROM users 
WHERE role = '—É—á–µ–Ω–∏–∫' 
AND application LIKE '%TO:teacher_id%'
```

#### **3. –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞—è–≤–∫–∏ —É—á–∏—Ç–µ–ª–µ–º:**
```sql
-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–µ–Ω–∏–∫–æ–≤ —É —É—á–∏—Ç–µ–ª—è
UPDATE users 
SET my_students = 'student1,student2,new_student'
WHERE telegram_id = 'teacher_id'

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∏—Ç–µ–ª–µ–π —É —É—á–µ–Ω–∏–∫–∞ + —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏
UPDATE users 
SET my_teachers = 'teacher1,teacher2,new_teacher',
    application = 'TO:teacher_id|MSG:message|STATUS:accepted'
WHERE telegram_id = 'student_id'
```

---

## üîß **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å –ë–î**

### **üìö –ö–ª–∞—Å—Å `Client` - ORM-–ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

#### **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ `Client(telegram_id)` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î
- –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏ (`role`) –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ–ª—è:
  - **–£—á–∏—Ç–µ–ª—è**: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è `my_students`
  - **–£—á–µ–Ω–∏–∫–∏**: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è `my_teachers`, `application`, `city`, `school`, `grade`

#### **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**
- –¢–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞–ø—Ä—è–º—É—é: `["name", "surname", "password", "role"]`
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–∑–º–µ–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### **üìä –ö–ª–∞—Å—Å `Manager` - –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏:**

#### **–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- `write()` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
- `update()` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π (–ø—Ä–∏–Ω—è—Ç–∏–µ –∑–∞—è–≤–æ–∫)
- `search_records()` - –ü–æ–∏—Å–∫ –ø–æ —É—Å–ª–æ–≤–∏—è–º (–ø–æ–∏—Å–∫ —É—á–∏—Ç–µ–ª–µ–π, –∑–∞—è–≤–æ–∫)
- `get_cell()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- `delete_record()` - –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π

---

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏**

### **‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–µ—Ç JOIN-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–ª–µ `application` –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: SQLite –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–º–æ–≤

### **‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏**: –¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∞–∫—Ç–∏–≤–Ω—É—é –∑–∞—è–≤–∫—É –Ω–∞ —É—á–µ–Ω–∏–∫–∞
2. **–ü–æ–∏—Å–∫ –ø–æ –∑–∞—è–≤–∫–∞–º**: –¢—Ä–µ–±—É–µ—Ç LIKE –∑–∞–ø—Ä–æ—Å—ã, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö
3. **–ò—Å—Ç–æ—Ä–∏—á–Ω–æ—Å—Ç—å**: –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏–Ω—è—Ç—ã—Ö/–æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫
4. **–°–≤—è–∑–∏ many-to-many**: –•—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏, –∞ –Ω–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–≤—è–∑–∏

---

## üîÆ **–≠–≤–æ–ª—é—Ü–∏—è –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**

### **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (MVP):**
```
users table -> –≤—Å–µ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
application field -> –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
my_students/my_teachers -> —Å—Ç—Ä–æ–∫–∏ —Å ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
```

### **–ë—É–¥—É—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ:**
```
users table -> –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
applications table -> –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫
user_relationships table -> —Å–≤—è–∑–∏ many-to-many
assignments table -> –∑–∞–¥–∞–Ω–∏—è (—É–∂–µ –µ—Å—Ç—å –∫–∞–∫ singly_assigment)
```

---

## üìà **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞**
```
1. Flow —Å–æ–±–∏—Ä–∞–µ—Ç: –∏–º—è="–ò–≤–∞–Ω", —Ñ–∞–º–∏–ª–∏—è="–ü–µ—Ç—Ä–æ–≤", –≥–æ—Ä–æ–¥="–ú–æ—Å–∫–≤–∞", —à–∫–æ–ª–∞=15, –∫–ª–∞—Å—Å="9–ê"
2. –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ users —Å role="—É—á–µ–Ω–∏–∫"
3. Client –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —É—á–µ–Ω–∏–∫–∞
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏**
```
1. –ü–æ–∏—Å–∫ —É—á–∏—Ç–µ–ª–µ–π: WHERE role='—É—á–∏—Ç–µ–ª—å' AND city LIKE '–ú–æ—Å–∫–≤–∞%' AND school=15
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è application: "TO:teacher123|MSG:–•–æ—á—É –∑–∞–Ω–∏–º–∞—Ç—å—Å—è|STATUS:pending"
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —É—á–∏—Ç–µ–ª—é —á–µ—Ä–µ–∑ Telegram API
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞—è–≤–∫–∏**
```
1. –£—á–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∑–∞—è–≤–∫–∏: WHERE application LIKE '%TO:teacher123%'
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ my_students —É —É—á–∏—Ç–µ–ª—è: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ student456
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ my_teachers —É —É—á–µ–Ω–∏–∫–∞: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ teacher123
4. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞: STATUS:pending -> STATUS:accepted
```

---

## üîç **–î–∏–∞–≥—Ä–∞–º–º–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö**

```mermaid
erDiagram
    USERS {
        string telegram_id PK
        string username
        string password
        string name
        string surname
        string role
        string my_students
        string city
        integer school
        string grade
        string application
        string my_teachers
    }
    
    SINGLY_ASSIGMENT {
        integer id PK
        string sender_id
        string recipient_id
        string task_filename
        blob task_file
        string solution_filename
        blob solution_file
    }
    
    USERS ||--o{ SINGLY_ASSIGMENT : "–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç/–ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏—è"
```

---

## üîÑ **–°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞—è–≤–æ–∫**

```mermaid
sequenceDiagram
    participant –£ as –£—á–µ–Ω–∏–∫
    participant –ë–î as –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    participant –¢ as –£—á–∏—Ç–µ–ª—å
    
    –£->>–ë–î: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (INSERT –≤ users)
    –£->>–ë–î: –ü–æ–∏—Å–∫ —É—á–∏—Ç–µ–ª–µ–π (SELECT WHERE role='—É—á–∏—Ç–µ–ª—å')
    –ë–î->>–£: –°–ø–∏—Å–æ–∫ —É—á–∏—Ç–µ–ª–µ–π
    –£->>–ë–î: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ (UPDATE application)
    –¢->>–ë–î: –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ (SELECT WHERE application LIKE)
    –ë–î->>–¢: –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
    –¢->>–ë–î: –ü—Ä–∏–Ω—è—Ç–∏–µ —É—á–µ–Ω–∏–∫–∞ (UPDATE my_students + my_teachers)
    –ë–î->>–£: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø—Ä–∏–Ω—è—Ç–∏–∏
```

---

**–≠—Ç–∞ –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç MVP —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–æ—Å—Ç–æ—Ç—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ö–æ—Ä–æ—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–º–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.** üöÄ
